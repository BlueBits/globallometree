{% extends 'base.html' %}

{% block content %}
	<div id="page">
	    <h2>Equations</h2>
	
	    <form method="get" action=".">
	        <table>
	            {{ form.as_table }}
	            <tr>
	                <td>&nbsp;</td>
	                <td>
	                    <input type="submit" value="Search">
	                </td>
	            </tr>
	        </table>
	
	        {% if page.object_list %}
	            <h3>Results</h3>
				<table>
					<tr>
						<th>Ecosystem</th>
						<th>Genus</th>
						<th>Species</th>
						<th>Country</th>
						<th>Biome (FAO)</th>
						<th>Max X</th>
						<th></th>
				    </tr>
	            {% for result in page.object_list %}
	                <tr>
	                   <td>{{ result.object.ecosystem}}</td>
	                   <td>{{ result.object.genus}}</td>
	                   <td>{{ result.object.species}}</td>
	                   <td>{{ result.object.country.common_name}}</td>
	                   <td>{{ result.object.biome_FAO }}</td>
	                   <td>{{ result.object.max_X }}</td>

	                   
	                   <td> <a href="{{ result.object.get_absolute_url }}">Detail &gt;&gt;</a></td>
	                </tr>
	              
	         
	            {% endfor %}
				
				</table>
				{% if page.has_previous or page.has_next %}
	                <p style="float:right">
	                	
	                	
	                    {% if page.has_previous %}<a href="?q={{ query }}&amp;page={{ page.previous_page_number }}">{% endif %}&laquo; Previous{% if page.has_previous %}</a>{% endif %}
	                    |
	                    {% if page.has_next %}<a href="?q={{ query }}&amp;page={{ page.next_page_number }}">{% endif %}Next &raquo;{% if page.has_next %}</a>{% endif %}
	                </p>
	            {% endif %}
				<p>Page {{ page.number }} of {{ page.paginator.num_pages }}</p>
	           
	        {% else %}
	        	<h4>No results were found that matched your search</h4>
	        	<p>Try making your search more general.</p>
	            {# Show some example queries to run, maybe query syntax, something else? #}
	        {% endif %}
	    </form>
    </div>
{% endblock %}